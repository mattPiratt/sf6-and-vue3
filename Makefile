# ----------------------------------------------------------------------------
# Configuration
# ----------------------------------------------------------------------------
PHP_CONTAINER = "app_jobleads_upfront_backend"

# ----------------------------------------------------------------------------
# Docker
# ----------------------------------------------------------------------------
bash:
	@make -s exec/bash

exec/%:
	@docker-compose exec $(PHP_CONTAINER) $*

docker-up:
	@docker-compose up -d

docker-down:
	@docker-compose down

# ----------------------------------------------------------------------------
# Update
# ----------------------------------------------------------------------------
update:
	@git pull origin master
	@make -s composer i
	@make -s migration
	@make -s clear_all

# ----------------------------------------------------------------------------
# Static analyse
# ----------------------------------------------------------------------------
static_analyser:
	@make -s exec/"bin/phpstan analyse"

# ----------------------------------------------------------------------------
# Tests
# ----------------------------------------------------------------------------
test:
	@make -s exec/"bin/phpunit"
